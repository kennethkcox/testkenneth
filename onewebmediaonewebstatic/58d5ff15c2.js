!function($){$.fn.isInViewport=function(){var elementTop=$(this).offset().top,elementBottom=elementTop+$(this).outerHeight(),viewportTop=$(window).scrollTop(),viewportBottom=viewportTop+$(window).height();return elementBottom>viewportTop&&elementTop<viewportBottom};var $window=$(window),prevScroll=-1,currentScrollTop=$window.scrollTop(),viewportHeight=$window.height(),init=function(){var parallaxElements=$('[data-scroll-effect="parallax"]');parallaxElements&&parallaxElements.length&&updateParallax(parallaxElements);var revealElements=$('[data-scroll-effect="reveal"]'),isIE11=navigator.userAgent.match(/Trident\/7\./);revealElements.length&&isIE11&&$("body").on("mousewheel",(function(){event.preventDefault();var wheelDelta=event.wheelDelta,currentScrollPosition=window.pageYOffset;window.scrollTo(0,currentScrollPosition-wheelDelta)})).keydown((function(e){var currentScrollPosition=window.pageYOffset;switch(e.which){case 38:e.preventDefault(),window.scrollTo(0,currentScrollPosition-120);break;case 40:e.preventDefault(),window.scrollTo(0,currentScrollPosition+120);break;default:return}}))},computeTranslations=function($img,viewportTop,viewportHeight){var imgContainer=$img.parents("[data-id]:first"),$imgContainer=imgContainer.length?$(imgContainer):$($img.parent());if($imgContainer.isInViewport()){var containerHeight=$imgContainer.height(),imgHeight=$img.height(),range=imgHeight-containerHeight,percentage=(viewportTop+viewportHeight-$img.offset().top)/((viewportHeight+imgHeight)/100),translationY=range/2-percentage/100*range;$imgContainer.hasClass("bgBodyWrapper")&&(translationY=-(percentage=viewportTop/(containerHeight-viewportHeight))*range),$img.css("transform","translate3d(0px, "+translationY+"px, 0px)")}},updateParallax=function(parallaxElements){try{currentScrollTop=$window.scrollTop(),prevScroll!==currentScrollTop&&(viewportHeight=Math.max($(window).height(),window.innerHeight,document.documentElement.clientHeight),parallaxElements.each((function(i,element){computeTranslations($(element),currentScrollTop,viewportHeight)})),prevScroll=currentScrollTop),window.requestAnimationFrame(updateParallax.bind(null,parallaxElements))}catch(e){window.requestAnimationFrame(updateParallax.bind(null,$('[data-scroll-effect="parallax"]')))}},timeoutId=null,isInitialize=!1,callInit=function(){clearInterval(timeoutId),isInitialize||($(init),isInitialize=!0)};$(window).on("view-chosen",(function(evt,isDesktopView){if(isDesktopView&&!$().isMobileDevice()){$(document.body).addClass("effects");var ctr=0;timeoutId=setInterval((function(){if(ctr<1200)try{viewportHeight=Math.max($(window).height(),window.innerHeight,document.documentElement.clientHeight),$('[data-scroll-effect="parallax"]').each((function(i,element){computeTranslations($(element),currentScrollTop,viewportHeight)}))}finally{ctr++}else callInit()}),50),$(window).load(callInit)}else $(document.body).addClass("no-effects")}))}(oneJQuery);