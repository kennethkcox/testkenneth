!function($){$.fn.isMobileWidth=function(){var innerWidth=window.innerWidth,clientWidth=document.documentElement.clientWidth;return(innerWidth&&clientWidth?Math.min(innerWidth,clientWidth):innerWidth||clientWidth)<=650},$.fn.isDesktopView=function(){var templateElt=$(".template"),isMobileView=$(templateElt).data("mobile-view"),isMobileWidth=$().isMobileWidth();return!isMobileView||!isMobileWidth},$.fn.isMobileDevice=function(){var isIpadOS="MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||isIpadOS},$.fn.scrollIntoSection=function(sectionId,callback){var node,found,element=document.getElementById(sectionId||""),newTop=(node=element,$('div.mm-mobile-preview, body:not(.mobileV) div[data-specific-kind="STRIP"], body:not(.mobileV) div[data-specific-kind="SECTION"]').filter((function(){var dataset=this.dataset;if(!found&&this!==node)return(dataset.mobilePin||dataset.pin)>0;found=!0})).toArray().reduce((function(sum,ele){return sum+ele.offsetHeight}),0));element&&$.fn.scrollIntoView(element,newTop,callback)},$.fn.scrollIntoView=function(element,newTop,callback,duration){var change,target,bodyEle=window.document.body,$ele=$(element),start=$(document).scrollTop(),currentTime=0,cancelScroll=!1;var cancelAnimateScroll=function(){cancelScroll=!0,document.removeEventListener("wheel",cancelAnimateScroll)};document.addEventListener("wheel",cancelAnimateScroll),target=function(){var target,display=element.style.display;return element.style.display="block",target=$ele.offset().top,0!==element.dataset.pin&&$ele.hasClass("is-sticky")&&($ele.removeClass("is-sticky"),target=$ele.offset().top,$ele.addClass("is-sticky")),element.style.display=display,target}(),change=target-(start+newTop||0),duration=isNaN(duration)?Math.abs(change)>1e3?Math.abs(change/2):500:duration,function animateScroll(){if(!cancelScroll){var t,b,c,scrollPosition=(t=currentTime+=20,b=start,c=change,(t/=duration/2)<1?c/2*t*t+b:-c/2*(--t*(t-2)-1)+b);if(window.scrollTo(0,scrollPosition),bodyEle.scrollTo(0,scrollPosition),currentTime<duration)window.requestAnimationFrame(animateScroll);else{var finalScrollPosition=element.getBoundingClientRect().top-newTop;window.scrollBy(0,finalScrollPosition),bodyEle.scrollTo(0,finalScrollPosition),document.removeEventListener("wheel",cancelAnimateScroll),"function"==typeof callback&&callback(element,newTop)}}}()},$.fn.removeHash=function(){var hash=location.hash,url=location.href.replace(hash,"");history.replaceState(null,null,url)},$.fn.pushHashState=function(value){if(value){if(location.hash.substr(1)!==value)try{history.pushState(null,null,"#"+value)}catch(e){console.warn(e.message)}$.fn.scrollIntoSection(value)}},$('div.menu.dropdown, a[sectionid], [data-specific-kind="IMAGESLIDER"]').on("click",(function(e){var $sectionLink=$(e.target).closest("a[sectionid]"),sectionId=$sectionLink.length?$sectionLink.attr("sectionid"):null;if(sectionId){var strip=document.body.querySelector('div[data-specific-kind=SECTION][data-id="'+sectionId+'"], div[data-specific-kind=STRIP][data-id="'+sectionId+'"]'),stripId=strip&&strip.id;stripId&&"_blank"!==e.currentTarget.target&&(e.preventDefault(),$.fn.pushHashState(stripId))}})),$("div[data-small-image][data-src]").each((function(){var othis=$(this),img=new Image;img.onload=function(){othis.remove()},img.src=othis.data("src")}))}(oneJQuery);